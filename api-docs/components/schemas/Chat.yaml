Chat:
  type: object
  required:
    - chatType
    - participants
  properties:
    id:
      type: string
      format: uuid
      description: Unique identifier for the chat
    name:
      type: string
      description: Name of the chat (optional)
    chatType:
      type: string
      enum: [one_on_one, group, event_chat]
      default: one_on_one
      description: Type of the chat
    participants:
      type: array
      items:
        type: string
        format: uuid
      description: List of user IDs participating in the chat
    group:
      type: string
      format: uuid
      description: Reference to the associated group (required for group chats)
    event:
      type: string
      format: uuid
      description: Reference to the associated event (required for event chats)
    lastMessage:
      type: string
      format: uuid
      description: Reference to the last message in the chat
    createdAt:
      type: string
      format: date-time
      description: When the chat was created
    updatedAt:
      type: string
      format: date-time
      description: When the chat was last updated

Message:
  type: object
  required:
    - chatId
    - sender
    - content
  properties:
    id:
      type: string
      format: uuid
      description: Unique identifier for the message
    chatId:
      type: string
      format: uuid
      description: Reference to the chat where the message was sent
    sender:
      type: string
      format: uuid
      description: Reference to the user who sent the message
    content:
      type: string
      description: Content of the message
    file:
      type: object
      properties:
        url:
          type: string
          format: uri
          description: URL of the file
        publicId:
          type: string
          description: Cloudinary public ID of the file
        resourceType:
          type: string
          enum: [image, video, raw]
          description: Type of the file resource
    isEdited:
      type: boolean
      default: false
      description: Whether the message has been edited
    createdAt:
      type: string
      format: date-time
      description: When the message was created
    updatedAt:
      type: string
      format: date-time
      description: When the message was last updated

ChatParticipant:
  type: object
  properties:
    user:
      type: string
      format: uuid
      description: Reference to the user
    role:
      type: string
      enum: [member, admin]
      description: Role of the user in the chat
    joinedAt:
      type: string
      format: date-time
      description: When the user joined the chat
    lastRead:
      type: string
      format: date-time
      description: When the user last read messages 